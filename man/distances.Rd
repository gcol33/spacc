% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/distances.R
\name{distances}
\alias{distances}
\title{Compute Distance Matrix}
\usage{
distances(x, method = NULL, fun = NULL, which = NULL)
}
\arguments{
\item{x}{Site locations. Can be:
\itemize{
\item A data.frame with columns \code{x} and \code{y}
\item An sf object with POINT geometries
\item An sfc_POINT object
}}

\item{method}{Character. Distance method:
\itemize{
\item \code{"euclidean"}: Euclidean distance (for projected coordinates)
\item \code{"haversine"}: Great-circle distance (for lat/lon, fast approximation
\item \code{"geodesic"}: Accurate ellipsoidal distance via sf/S2 (for global scale)
Default is auto-detected from CRS when using sf objects.
}}

\item{fun}{Optional custom distance function. Must take two coordinate
vectors (x, y) and return a distance matrix. Overrides \code{method}.}

\item{which}{For sf objects, column name containing the geometry.
Default uses active geometry.}
}
\value{
An object of class \code{spacc_dist} containing the distance matrix
with coordinates stored as an attribute.
}
\description{
Pre-compute pairwise distances between sites for reuse across multiple
\code{spacc()} calls. Supports sf objects with accurate geodesic distances
for global-scale studies.
}
\details{
For continental and global-scale studies, use sf objects with geographic
CRS (e.g., EPSG:4326). The function will automatically use accurate
geodesic distances via the S2 spherical geometry library.

For smaller study areas with projected coordinates (UTM, etc.), Euclidean
distance is appropriate and faster.
}
\examples{
\dontrun{
# Data frame with coordinates
d <- distances(coords, method = "haversine")

# sf object - auto-detects appropriate method
library(sf)
pts_sf <- st_as_sf(coords, coords = c("lon", "lat"), crs = 4326)
d <- distances(pts_sf)  # uses geodesic automatically

# Force geodesic for maximum accuracy
d <- distances(pts_sf, method = "geodesic")

# Reuse for multiple analyses
sac_native <- spacc(native_species, d)
sac_alien <- spacc(alien_species, d)
}

}
