% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/metrics.R
\name{spaccMetrics}
\alias{spaccMetrics}
\title{Per-Site Accumulation Metrics}
\usage{
spaccMetrics(
  x,
  coords,
  metrics = c("slope_10", "half_richness", "auc"),
  method = c("knn", "kncn", "random"),
  distance = c("euclidean", "haversine"),
  parallel = TRUE,
  n_cores = NULL,
  progress = TRUE
)
}
\arguments{
\item{x}{A site-by-species matrix (rows = sites, cols = species).}

\item{coords}{A data.frame with columns \code{x} and \code{y} containing site coordinates,
or a \code{spacc_dist} object from \code{\link[=distances]{distances()}}.}

\item{metrics}{Character vector. Metrics to compute. Options include:
\code{"slope_10"} (initial slope, first 10\% of sites),
\code{"slope_25"} (initial slope, first 25\% of sites),
\code{"half_richness"} (sites to reach 50\% of total species),
\code{"richness_50pct"} (alias for half_richness),
\code{"richness_75pct"} (sites to reach 75\% of species),
\code{"richness_90pct"} (sites to reach 90\% of species),
\code{"auc"} (area under accumulation curve),
\code{"final_richness"} (total species starting from this site).}

\item{method}{Character. Accumulation method: \code{"knn"}, \code{"kncn"}, \code{"random"}.
Default \code{"knn"}.}

\item{distance}{Character. Distance method: \code{"euclidean"} or \code{"haversine"}.}

\item{parallel}{Logical. Use parallel processing? Default \code{TRUE}.}

\item{n_cores}{Integer. Number of cores for parallel processing.}

\item{progress}{Logical. Show progress bar? Default \code{TRUE}.}
}
\value{
An object of class \code{spacc_metrics} containing:
\item{metrics}{Data frame with one row per site and columns for each metric}
\item{coords}{Original coordinates}
\item{metric_names}{Names of computed metrics}
\item{n_sites}{Number of sites}
\item{n_species}{Total species count}
}
\description{
Compute spatial accumulation metrics for each site as a starting point.
Useful for identifying sites with high or low accumulation rates,
visualizing spatial patterns in diversity, and understanding edge effects.
}
\details{
This function runs a spatial accumulation curve starting from each site
individually, then extracts summary metrics from each curve. This allows
you to identify:
\itemize{
\item Sites in species-rich areas (high initial slope)
\item Core vs edge sites (fast vs slow accumulation)
\item Spatial patterns in community structure
}

The metrics can be plotted as a heatmap using \code{plot(result, type = "heatmap")},
which requires the \code{ggplot2} package. For more sophisticated spatial
visualization with study area boundaries, see the \code{areaOfEffect} package.
}
\examples{
\dontrun{
# Compute per-site metrics
metrics <- spaccMetrics(species, coords,
                        metrics = c("slope_10", "half_richness", "auc"))

# Basic heatmap
plot(metrics, metric = "slope_10", type = "heatmap")

# Access metric values directly
metrics$metrics$slope_10
}

}
\references{
Soberon, J.M. & Llorente, J.B. (1993). The use of species accumulation
functions for the prediction of species richness. Conservation Biology,
7, 480-488.
}
\seealso{
\code{\link[=spacc]{spacc()}} for standard accumulation curves
}
